var date_format=function(){function t(t,n,r){return(t=e(t))?("number"==typeof r&&(t=i(t,r)),n=n||m,~n.indexOf("{")||(n=n.replace(N,function(t){return"{"+t+"}"})),n.replace(Y,function(e,n){return n in M?M[n](t):e})):""}function e(t){return t instanceof Date?Number.isNaN(t.getTime())?null:new Date(t):"string"!=typeof t?null:(t=t.replace(j,function(t,e,n,r,u){var i=parseInt(k.indexOf(e)/2,10);return T[i].y+1*n-1+"-"+r+"-"+u}),t=new Date(t),Number.isNaN(t.getTime())?null:t)}function n(t,e){var n=T[T.length-1],r=t.getFullYear();if(1873>r)return n;for(var u=0,i=T.length;i>u;u++){var o=T[u];if(e&&o.d<=t||!e&&o.y<=r)return o}return n}function r(t){var e=new Date(t.getFullYear(),0,1),n=(t-e)/v+e.getDay()-1;return Math.floor(n/7)+1}function u(t,e){if(0===t)return"〇";if(0>t||t>9999)return"";if(e)return(""+t).split("").map(function(t){return"0"===t?"〇":W[1*t]}).join("");var n=("0000"+t).slice(-4).split(""),r=1*n[0],u=1*n[1],i=1*n[2],o=1*n[3];return(0===r?"":1===r?"千":W[r]+"千")+(0===u?"":1===u?"百":W[u]+"百")+(0===i?"":1===i?"十":W[i]+"十")+(0===o?"":W[o])}function i(t,n,r,u,i,o){if(t=e(t),!t)return null;0===n?(n=1,t.setTime(t.getTime()-v)):r&&t.setTime(t.getTime()+(n>0?-v:v));for(var l=a(u,i,o),f=365;n;)if(t.setTime(t.getTime()+(n>0?v:-v)),c(t,l)&&(n=n>0?n-1:n+1),--f<0)return null;return t}function o(t,n,r,u,i){if(t=e(t),n=e(n),!t||!n)return null;if(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),n.getTime()<t.getTime())return null;for(var o=a(r,u,i),l=0;t.getTime()<=n.getTime();)c(t,o)&&l++,t.setTime(t.getTime()+v);return l}function a(t,e,n){(void 0===t||null===t)&&(t=p),(void 0===e||null===e)&&(e=D),(void 0===n||null===n)&&(n=F);var r,u=null,i=null===n,o="function"==typeof e?e:null,a="function"==typeof n?n:null;if("string"==typeof e){var c=[].slice.call(E).concat(H).concat(x);u=e.split(",").map(function(t){return c.indexOf(t.trim())%7}).filter(function(t){return~t}),u=u.length?u:null}return""===t?r=[]:"string"==typeof t&&(r=l(t)),"string"==typeof n&&(r=r.concat(l(n))),{regularWeek:u,closed:r,holidayAuto:i,regularFn:o,holidayFn:a}}function c(t,e){e=e||a();var n=100*(t.getMonth()+1)+1*t.getDate();return e.regularWeek&&~e.regularWeek.indexOf(t.getDay())?!1:~e.closed.indexOf(n)?!1:e.holidayAuto&&n in f(t.getFullYear())?!1:e.regularFn&&e.regularFn(t)?!1:e.holidayFn&&e.holidayFn(t)?!1:!0}function l(t){var e=[];return t.split(",").forEach(function(t){var n=t.trim().match(A);if(n&&n[3]){var r=1*n[1],u=1*n[2],i=1*n[3],o=1*n[4];for(r>i&&(i+=12);100*i+o>=100*r+u;)e.push(100*(r>12?r-12:r)+u),u>=31?(r++,u=1):u++}else n&&e.push(100*n[1]+1*n[2])}),e}function f(t){var e=J[t];return e?e:1948>t?{}:(e={},b.forEach(function(n){var r=g(t,n);if(r){var u=100*r[0]+r[1];e[u]=r[2]}}),y(t,e),1948===t&&Object.keys(e).forEach(function(t){720>1*t&&delete e[t]}),J[t]=e,e)}function g(t,e){var n=e.match(/(\S+)/g),r=n[0];if("春分の日"===r)return s(t);if("秋分の日"===r)return h(t);for(var u=1;u<n.length;u++){var i=n[u].match($);if(i){var o=1*i[4],a=1*(i[1]||(7>o?1949:1948)),c=1*(i[3]||(i[2]?t:i[1]||t)),l=i[6]?d(t,o,i[5],i[6]):1*i[5];if(t>=a&&c>=t)return[o,l,r]}}return null}function s(t){if(t>2099)return null;var e;switch(t%4){case 0:e=1956>=t?21:2088>=t?20:19;break;case 1:e=1989>=t?21:20;break;case 2:e=2022>=t?21:20;break;case 3:e=1923>=t?22:2055>=t?21:20}return[3,e,"春分の日"]}function h(t){if(t>2099)return null;var e;switch(t%4){case 0:e=2008>=t?23:22;break;case 1:e=1917>=t?24:2041>=t?23:22;break;case 2:e=1946>=t?24:2074>=t?23:22;break;case 3:e=1979>=t?24:23}return[9,e,"秋分の日"]}function y(t,e){var n=null,r=[];t>=1988&&Object.keys(e).forEach(function(e){var u=new Date(t,1*e.slice(0,-2)-1,1*e.slice(-2));n&&(n.setTime(n.getTime()+v),n.getTime()+v===u.getTime()&&r.push(100*(n.getMonth()+1)+n.getDate())),n=u});var u=[];if(t>=1973){var i=new Date(1973,3,29).getTime(),o=!1,a=Object.keys(e);a.push("1231"),a.forEach(function(e){var r=new Date(t,1*e.slice(0,-2)-1,1*e.slice(-2));o?(n.setTime(n.getTime()+v),n.getTime()!==r.getTime()&&(u.push(100*(n.getMonth()+1)+n.getDate()),o=!1)):o=0===r.getDay()&&i<=r.getTime(),n=r})}u.forEach(function(t){e[t]="振替休日"}),r.forEach(function(t){t in e||(e[t]="国民の休日")})}function d(t,e,n,r){var u=H.indexOf(r),i=new Date(t,e-1,1).getDay(),o=1+u-i+(i>u?7:0);return o+7*(n-1)}var m="Y-m-d H:i:s",v=864e5,D="土,日",p="12/29-1/3",T=[{N:"平成",n:"H",y:1989,d:new Date("1989-01-08 00:00:00.000")},{N:"昭和",n:"S",y:1926,d:new Date("1926-12-25 00:00:00.000")},{N:"大正",n:"T",y:1912,d:new Date("1912-07-30 00:00:00.000")},{N:"明治",n:"M",y:1868,d:new Date("1868-01-25 00:00:00.000")},{N:"西暦",n:"",y:1,d:new Date("0001-01-01 00:00:00.000")}],b=["元日         1/1","成人の日     -1999/1/15  2000-/1/2Mon","建国記念の日 1967-/2/11","春分の日","天皇誕生日   -1988/4/29","みどりの日   1989-2006/4/29","昭和の日     2007-/4/29","憲法記念日   5/3","みどりの日   2007-/5/4","こどもの日   5/5","海の日       1996-2002/7/20  2003-/7/3Mon","山の日       2016-/8/11","敬老の日     1966-2002/9/15  2003-/9/3Mon","秋分の日","体育の日     1966-1999/10/10 2000-/10/2Mon","文化の日     11/3","勤労感謝の日 11/23","天皇誕生日   1989-/12/23","皇太子・明仁親王の結婚の儀  1959/4/10","昭和天皇の大喪の礼          1989/2/24","即位の礼正殿の儀            1990/11/12","皇太子・徳仁親王の結婚の儀  1993/6/9"],F=null,M={hizuke:function(t){return this.Y(t)+"/"+this.m(t)+"/"+this.d(t)},wareki:function(t){return this.nengo(t)+this.nen(t)+"年"+this.n(t)+"月"+this.j(t)+"日"},wareki2:function(t){return this.Nengo(t)+this.Nen(t)+"年"+this.n(t)+"月"+this.j(t)+"日"},Y:function(t){return t.getFullYear()},y:function(t){return String(t.getFullYear()).slice(-2)},L:function(t){return 29===new Date(t.getFullYear(),1,29).getDate()?1:0},nengo:function(t){return n(t).N},nengo2:function(t){return n(t).n},nen:function(t){return t.getFullYear()-n(t).y+1},nen2:function(t){var e=t.getFullYear()-n(t).y+1;return 1===e?"元":e},nen3:function(t){var e=t.getFullYear()-n(t).y+1;return 1===e?"元":u(e,e>100)},nen4:function(t){var e=t.getFullYear()-n(t).y+1;return 1===e?"元":u(e,!0)},Nengo:function(t){return n(t,!0).N},Nengo2:function(t){return n(t,!0).n},Nen:function(t){return t.getFullYear()-n(t,!0).y+1},Nen2:function(t){var e=t.getFullYear()-n(t,!0).y+1;return 1===e?"元":e},Nen3:function(t){var e=t.getFullYear()-n(t,!0).y+1;return 1===e?"元":u(e,e>100)},Nen4:function(t){var e=t.getFullYear()-n(t,!0).y+1;return 1===e?"元":u(e,!0)},m:function(t){return("0"+(t.getMonth()+1)).slice(-2)},n:function(t){return t.getMonth()+1},F:function(t){return O[t.getMonth()]},M:function(t){return O[t.getMonth()].substring(0,3)},tuki:function(t){return u(t.getMonth()+1)},tuki2:function(t){return u(t.getMonth()+1,!0)},t:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0);return e.getDate()},W:function(t){return r(t)},d:function(t){return("0"+t.getDate()).slice(-2)},j:function(t){return t.getDate()},niti:function(t){return u(t.getDate())},niti2:function(t){return u(t.getDate(),!0)},S:function(t){return S[t.getDate()]},z:function(t){return Math.floor((t.getTime()-new Date(t.getFullYear(),0,1).getTime())/v)},w:function(t){return t.getDay()},N:function(t){return t.getDay()||7},l:function(t){return E[t.getDay()]},D:function(t){return H[t.getDay()]},yobi:function(t){return x[t.getDay()]},yobi2:function(t){return this.holiday(t)?"祝":this.yobi(t)},yobi3:function(t){var e=this.yobi2(t);return e+("祝"===e?"日":"曜日")},eigyo:function(t){return c(t)?this.yobi(t):"休"},eigyo2:function(t){var e=this.eigyo(t);return e+("休"===e?"業日":"曜日")},holiday:function(t){var e=100*(t.getMonth()+1)+t.getDate();return f(t.getFullYear())[e]||""},g:function(t){return t.getHours()%12},G:function(t){return t.getHours()},h:function(t){return("0"+t.getHours()%12).slice(-2)},H:function(t){return("0"+t.getHours()).slice(-2)},i:function(t){return("0"+t.getMinutes()).slice(-2)},s:function(t){return("0"+t.getSeconds()).slice(-2)},u:function(t){return("00"+t.getMilliseconds()).slice(-3)+"000"},a:function(t){return t.getHours()<12?"am":"pm"},A:function(t){return t.getHours()<12?"AM":"PM"},aj:function(t){return t.getHours()<12?"午前":"午後"}},w=Object.keys(M).sort(function(t,e){return e.length-t.length}),N=new RegExp(w.join("|"),"g"),Y=/\{(\w+)\}/g,k=T.reduce(function(t,e){return e.n&&(t.push(e.N),t.push(e.n)),t},[]),j=new RegExp("^("+k.join("|")+")(\\d+)\\D+(\\d+)\\D+(\\d+)\\D*$"),O="January,February,March,April,May,June,July,August,September,October,November,December".split(","),S="0,st,nd,rd,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th,st,nd,rd,th,th,th,th,th,th,th,st".split(","),E="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),H="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),x="日月火水木金土".split(""),W=",一,二,三,四,五,六,七,八,九".split(","),A=/^(\d{1,2})\/(\d{1,2})(?:-(\d{1,2})\/(\d{1,2}))?$/,J={},$=/^(?:(\d+)?(-)?(\d+)?\/)?(\d+)\/(\d+)(Sun|Mon|Tue|Wed|Thu|Fri|Sat)?$/;return t.defaultFormat=m,t.paramKeys=Object.keys(M),t.addEigyobi=i,t.countEigyobi=o,t.getHolidays=f,t}();"object"==typeof global&&"object"==typeof module&&(module.exports=date_format);